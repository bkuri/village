{"id":"village-0kk","title":"Add unified /confirm with breakdown support","description":"Replace handle_confirm() to detect breakdown vs single task. If breakdown: call _confirm_breakdown() which creates ALL subtasks with dependency mapping. Use item.success_criteria from ST. Auto-save errors to log on failure. Depends on village-u2l (handle_create), village-6zb (decomposition offer), village-zs1 (error handling).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:26:59.690194634-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:26:59.690194634-06:00","labels":["chat","decomposition","llm"],"dependencies":[{"issue_id":"village-0kk","depends_on_id":"village-i64","type":"blocks","created_at":"2026-01-28T13:27:40.564408188-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-1ik","title":"Add data model extensions for task decomposition","description":"Extend ChatSession with current_breakdown: TaskBreakdown field, extend LLMChat with config: _Config field, add imports for TaskBreakdown/TaskBreakdownItem/generate_task_breakdown/validate_dependencies/BaselineReport from village.chat.sequential_thinking","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:52.669144057-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:52.669144057-06:00","labels":["chat","decomposition","llm"],"dependencies":[{"issue_id":"village-1ik","depends_on_id":"village-cau","type":"blocks","created_at":"2026-01-28T13:25:58.943595197-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-wuc","type":"blocks","created_at":"2026-01-28T13:25:58.972861973-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-lm2","type":"blocks","created_at":"2026-01-28T13:25:59.001180641-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-zs1","type":"blocks","created_at":"2026-01-28T13:25:59.029366435-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-36r","type":"blocks","created_at":"2026-01-28T13:25:59.058288447-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-u2l","type":"blocks","created_at":"2026-01-28T13:26:48.369243204-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-1ik","depends_on_id":"village-6zb","type":"blocks","created_at":"2026-01-28T13:26:48.454985665-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-29w","title":"Add unified /edit with ST-based refinement","description":"Modify handle_refine() to detect breakdown vs single task. If breakdown: call _refine_breakdown() which re-invokes Sequential Thinking with current breakdown + user feedback. Ask ST to 'analyze feedback and update breakdown accordingly'. Re-validate dependencies. Depends on village-u2l (handle_create), village-6zb (decomposition offer).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:26:59.692225324-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:26:59.692225324-06:00","labels":["chat","decomposition","llm"],"dependencies":[{"issue_id":"village-29w","depends_on_id":"village-u2l","type":"blocks","created_at":"2026-01-28T13:27:40.621492616-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-36r","title":"Update help text for decomposition workflow","description":"Replace handle_help() with comprehensive documentation showing: /create (auto-detects complexity), /edit/refine (works for breakdowns), /confirm (creates all subtasks), /discard (clears breakdown), /reset (alias). Examples for complex vs simple tasks.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:20.686320857-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:20.686320857-06:00","labels":["chat","docs"]}
{"id":"village-3rb","title":"Write integration tests for task decomposition","description":"Add TestTaskDecomposition class to tests/chat/test_llm_chat_integration.py with tests for: complex/breakdown detection, /confirm-all creates all subtasks, dependency mapping (indices → task IDs), /discard clears breakdown, /edit refines breakdown with ST, /reset alias, error handling with auto-save, /retry preserves inputs. Depends on all implementation tasks.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:48:35.350414175-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:48:35.350414175-06:00","labels":["chat","tests"]}
{"id":"village-607","title":"Implement task decomposition in LLM chat","description":"Epic for implementing Sequential Thinking-based task decomposition in village chat. Auto-detects complex tasks, generates breakdowns, offers /confirm to create all subtasks at once with correct dependencies. Includes /edit for refining entire breakdown, /discard to start over. Depends on all implementation tasks (village-1ik through village-29w).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:27:06.500775329-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:27:06.500775329-06:00","labels":["chat","decomposition","epic","llm"]}
{"id":"village-6zb","title":"Add decomposition offer with Sequential Thinking","description":"Add _offer_decomposition(task_spec, user_input) method. Creates BaselineReport, calls generate_task_breakdown(), validates dependencies. Passes Beads state for context. Renders breakdown via _render_breakdown(). Depends on village-1ik (data model), village-wuc (rendering).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:26:21.561409097-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:26:21.561409097-06:00","labels":["chat","decomposition","llm"],"dependencies":[{"issue_id":"village-6zb","depends_on_id":"village-u2l","type":"blocks","created_at":"2026-01-28T13:27:40.526328601-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-bu6","title":"Update CLI to pass config to LLMChat","description":"Modify village/cli.py to add config parameter: chat = LLMChat(llm_client, system_prompt=system_prompt, config=config). Single line change. Must be done AFTER all code changes complete. Depends on all Batch 1/2/3 tasks.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:27:06.499441438-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:27:06.499441438-06:00","labels":["chat","cli"],"dependencies":[{"issue_id":"village-bu6","depends_on_id":"village-0kk","type":"blocks","created_at":"2026-01-28T13:27:40.628516045-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-cau","title":"Add LLM complexity detection without keyword lists","description":"Add _should_decompose(task_spec) method that asks LLM to determine if task should be decomposed. Returns (should_decompose: bool, reasoning: str). Uses semantic understanding instead of brittle keyword matching.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:20.680974853-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:20.680974853-06:00","labels":["chat","decomposition","llm"],"dependencies":[{"issue_id":"village-cau","depends_on_id":"village-u2l","type":"blocks","created_at":"2026-01-28T13:26:48.398194395-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-e6n","title":"Write integration tests for task decomposition","description":"Add TestTaskDecomposition class to tests/chat/test_llm_chat_integration.py with tests for: complex/breakdown detection, /confirm-all creates all subtasks, dependency mapping (indices → task IDs), /discard clears breakdown, /edit refines breakdown with ST, /reset alias, error handling with auto-save. Depends on all implementation tasks.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:27:06.499335233-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:27:06.499335233-06:00","labels":["chat","tests"],"dependencies":[{"issue_id":"village-e6n","depends_on_id":"village-0kk","type":"blocks","created_at":"2026-01-28T13:27:45.328200912-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-i64","title":"Add unified /discard with breakdown support","description":"Modify handle_discard() to detect breakdown vs single task. If breakdown: clear current_breakdown, report task count. If single task: existing behavior. Simple, unified command for starting over. Depends on village-1ik (data model).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:26:59.691174921-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:26:59.691174921-06:00","labels":["chat","cli"],"dependencies":[{"issue_id":"village-i64","depends_on_id":"village-1ik","type":"blocks","created_at":"2026-01-28T13:27:40.592733327-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-lm2","title":"Add /reset alias for /discard command","description":"Update SLASH_COMMANDS dict to add '/reset': 'handle_discard' entry. This provides intuitive alias for starting over.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:20.683144718-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:20.683144718-06:00","labels":["chat","cli"]}
{"id":"village-twn","title":"Update CLI to pass config to LLMChat","description":"Modify village/cli.py to add config parameter to LLMChat initialization. Change from: chat = LLMChat(llm_client, system_prompt=system_prompt) to: chat = LLMChat(llm_client, system_prompt=system_prompt, config=config). Single line change. Must be done AFTER all code changes complete. Depends on all Batch 1/2 tasks (village-0kk through village-e6n).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:48:35.349973824-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:48:35.349973824-06:00","labels":["chat","cli"]}
{"id":"village-u2l","title":"Update handle_create flow with complexity detection","description":"Modify handle_create() to: 1) Parse TaskSpec, 2) Call _should_decompose(), 3) Branch: breakdown → _offer_decomposition() or single task → render task_spec. Depends on village-1ik (data model), village-cau (complexity detection), village-wuc (breakdown rendering).","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:26:21.559951082-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:26:21.559951082-06:00","labels":["chat","decomposition","llm"]}
{"id":"village-wuc","title":"Add breakdown rendering with title-based dependencies","description":"Add _render_breakdown(breakdown) method to render TaskBreakdown as ASCII table. Map dependency indices to task titles (not numbers) for better UX. Display all subtasks with titles, descriptions, dependencies [mapped to titles], estimates. Show action hints: /confirm, /edit, /discard.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:20.68173759-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:20.68173759-06:00","labels":["chat","llm","ui"],"dependencies":[{"issue_id":"village-wuc","depends_on_id":"village-u2l","type":"blocks","created_at":"2026-01-28T13:26:48.426573561-06:00","created_by":"Bernardo Kuri"},{"issue_id":"village-wuc","depends_on_id":"village-6zb","type":"blocks","created_at":"2026-01-28T13:26:52.272610206-06:00","created_by":"Bernardo Kuri"}]}
{"id":"village-zs1","title":"Add decomposition error handling with auto-save","description":"Add _render_decomposition_error() method that shows full context: error message, task info (title/desc/scope), partial/invalid breakdown. Auto-save full error details to .village/error.log on retry/failure. Actions: /retry, /discard, /confirm-simple.","status":"open","priority":2,"issue_type":"task","owner":"github@bkuri.com","created_at":"2026-01-28T13:25:20.685210436-06:00","created_by":"Bernardo Kuri","updated_at":"2026-01-28T13:25:20.685210436-06:00","labels":["chat","error-handling"]}
